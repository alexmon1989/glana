{% load thumbnail %}
{% load i18n %}

<section id="products" class="container g-pt-70">

    <div class="container g-width-760">
        <div class="text-center mx-auto u-heading-v2-2--bottom g-brd-primary g-mb-30">
            <h2 class="text-uppercase g-font-weight-700 g-font-size-26 g-mb-15">{% trans "Продукція" %}</h2>
            <p class="mb-0">{% trans "Розробимо дизайн та надрукуємо для вас таку продукцію" %}</p>
        </div>
    </div>

</section>

<section class="g-pb-70">

    <!-- Cube Portfolio Blocks -->
    <div class="clearfix">
        <!-- Cube Portfolio Blocks - Filter -->
        <ul id="filterControls" class="d-block list-inline text-center g-mb-50">
            <li class="list-inline-item cbp-filter-item cbp-filter-item-active g-brd-around g-brd-gray-light-v4 g-brd-primary--active g-color-gray-dark-v4 g-color-primary--hover g-color-primary--active g-font-size-12 rounded g-transition-0_3 g-px-20 g-py-7 mb-2"
                role="button" data-filter="*">{% trans "Всe" %}
            </li>
            {% for type in product_types %}
                <li class="list-inline-item cbp-filter-item g-brd-around g-brd-gray-light-v4 g-brd-primary--active g-color-gray-dark-v4 g-color-primary--hover g-color-primary--active g-font-size-12 rounded g-transition-0_3 g-px-20 g-py-7 mb-2"
                    role="button" data-filter=".{{ type.slug }}">{{ type.title }}
                </li>
            {% endfor %}
        </ul>
        <!-- End Cube Portfolio Blocks - Filter -->

        <!-- Cube Portfolio Blocks - Content -->
        <div class="cbp" data-controls="#filterControls" data-animation="quicksand" data-x-gap="10" data-y-gap="10" data-default-filter="*"
             data-media-queries='[
         {"width": 1500, "cols": 6},
         {"width": 1100, "cols": 6},
         {"width": 800, "cols": 4},
         {"width": 480, "cols": 3},
         {"width": 300, "cols": 2},
         {"width": 0, "cols": 1}
        ]'>
            {% for product in products %}
                <!-- Cube Portfolio Blocks - Item -->
                <div class="cbp-item {{ product.get_types_string }}">
                    <div class="u-block-hover g-parent">
                        {% if product.image %}
                            <a class="d-block u-bg-overlay g-bg-black-opacity-0_1--after product-{{ product.slug }}"
                               href="{% url 'products:detail' slug=product.slug %}"
                               rel="nofollow">
                                <img class="img-fluid u-block-hover__main--zoom-v1"
                                     src="{{ product.image.product_sm.url }}"
                                     alt="{{ product.title }}"
                                >

                                <span class="u-block-hover__additional--fade g-bg-black-opacity-0_3 g-color-white">
                                    <i class="fa fa-info-circle g-absolute-centered g-font-size-35" aria-hidden="true"></i>
                                </span>
                            </a>
                        {% else %}
                            <img class="img-fluid g-transform-scale-1_1--parent-hover g-transition-0_5 g-transition--ease-in-out"
                                 src="//via.placeholder.com/400x270?text=No+Photo" alt="">
                        {% endif %}
                    </div>
                    <div class="g-bg-white text-center g-pa-15 g-min-height-115">
                        <a class="product-{{ product.slug }}"
                           href="{% url 'products:detail' slug=product.slug %}"
                           rel="nofollow">
                            <h3 class="h6 g-color-black g-font-weight-700 mb-1 cbp-l-grid-products-title">{{ product.title }}</h3>
                        </a>
                        <p class="g-font-size-13 mb-0">{{ product.short_description }}</p>
                    </div>
                </div>
                <!-- End Cube Portfolio Blocks - Item -->
            {% endfor %}

        </div>
        <!-- End Cube Portfolio Blocks - Content -->
    </div>
    <!-- End Cube Portfolio Blocks -->

</section>
